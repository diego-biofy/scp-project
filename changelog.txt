
Histórico de Versões (recentes)

1.2.22   -  Master.: Para evitar erros de leitura nos fluxometros, testa se o valor retornado pelo Fluxometro (IN ou OUT) é <= 1. Se for, repete a leitura  (até 3 vezes). No caso de desenvase/transferência multipla, se o volume não for atingido, repete a tentativa (até 3 vezes).


1.2.23   -  Master.: Cria opção de cultivo para 1000 Litros - Para tanto a criação de novas tasks passa a ter o parametro de volume, sendo o padrão 2000 Litros.
            Front..: Inclui a opção de Volume para Novo Cultivo (1000 ou 2000 litrosa).


1.2.24   -  Master.: Não permite iniciar Cuiltivo ou CIP caso o TOTEM01(BIO) ou TOTEM02(IBC) esteja com falha. 
20231002             Durante o WAIT/VOLUME se o volume de entrada não varia por 25s ou há erro no TOTEM01, alerta e pausa o BIO. No caso de IBC, se houver falha no TOTEM02, pausa o IBC. 
                     Corrige para quando houver falha no setup do TOTEM, o status ir para bio_error.
                     No caso de falha de equipamento (.Status==bio_error) permite mudar o status de valvula ou bomba mesmo que o retorno do Orch seja ERR
            Orch...: Muda timeout para 1500ms.
            Upgrade: Script agora interrompe o master antes de reiniciar o Orch. Como estava, poderia gerar falsos erros de dispositivo antes da atualização do Master.
            Front..: No caso de TOTEM com Status NULL, mostra o mesmo como não existente. 
            Portal.: Ao clicar em entrar pelo mapa na biofábrica, já dispara a chamada ao end-point da biofábrica
            Network: Corrige formato da data/hora da última atualização

1.2.25  -   Master.: Avisa de solicitação de shutdown externo.
20231004             Reiniciar não restart Orch  (estava causando falsas falhas de equipamento se antes dele fosse chamado o reconfigurar)
                     run_withdraw testa painéis (intermediário e de desenvase) antes de iniciar processo. Alerta sobre falhas.
                     Mudança no setup_devices para sempre testar Paineis (Intermediário e Desenvase) caso não sejam bio_ready, independente do status da Biofábrica.
                     Pequenas melhorias no log do setup_devices.
                     Cria UndoStatus para salvar LastStatus no caso de falha durante pausa e recuperar quando do retorno do equipamento.
                     Permite ajuste de PH mesmo com a resistência/circulação já ligados.
                     Aborta wait volume se o mesmo atingir o valor maximo configurado
                     Fecha válvulas V1 e V2 antes de desligar o aerador para fazer leitura do PH
                     Na configuração de endereços, converte para maiúsculo os caracteres
            Network: Associa bf_default com base no endereço IP do client web. Desta forma permite multiplos usuários vendo diferentes biofábricas.
                     Testa as biofábricas que estão há mais de 5 minutos sem enviar atualização e muda o status para scp_outofdate. e remove IP
            Front..: No biorreator, abrindo as valvulas V2 e V3, o PH e Temperatura passam a ser exibidos em qualquer status que esteja

1.2.26  -   Master.: Process_Conn não permite ações durante Critical da Biofabrica
20231004             Implementação função de restaurar cultivo
                     set_valv mudar o valor independente do retorno do Orch. Aparentemente erros esporádicos estavam gerando falsos status das válvulas
            Back...: Implementação endpoint de restaurar cultivo
            Front..: Implementação botão de restaurar cultivo
            Orch...: Timeout voltou a ser 2000ms. Instabilidade de alguns equipamentos deve ter sido em função da redução que houve para 1500
            Agent..: BFID passa a ser automático e randômico. Cria e chama Master para atualização.

1.2.27  -   Master.: Corrige processo de atualização do software.
20231009             Caso não haja UndoStatus, atribui bio_ready.
                     Testa se Volume>0 para restaurar cultivo.
            Front..: Corrige atualização do cadastro da Biofábrica. Corrige verificação da versão para Upgrade.

1.2.28  -   Master.: Redefinir tarefas passa a sincronizar status de todas as válvulas.
20231009             Permite remotamente mudar o techmode.
            Back...: Implementa endpoint para mudança do techmode
            Front..: Opção de redefinir dados (bio e ibc) só está habilitada no Portal das Biofábricas.
                     Cria botão que permite ativar/desativar techmode
                     Passa a mostrar volume de entrada também (fluxometro de entrada)